<?php
class SitesassureInstallScript {
	/**
	* Execute the script when activate the plugin
	*
	* @return null
	**/
     public static function swms_install() {
		require_once( ABSPATH . 'wp-admin/includes/upgrade.php' );
		add_option('swms_quttera_api_url', SWMS_QUTTERA_URL, '', 'yes'); 
		add_option('swms_quttera_api', SWMS_QUTTERA_API, '', 'yes'); 
		$sql = "CREATE TABLE IF NOT EXISTS ".SWMS_SCAN_TABLE." (
					id mediumint(9) NOT NULL AUTO_INCREMENT,
					created_at datetime DEFAULT '0000-00-00 00:00:00' NOT NULL,
					scanned_url VARCHAR(255) NOT NULL,
					email VARCHAR(255) NOT NULL,
					status mediumint(3) NOT NULL,
					user_id mediumint(5) NOT NULL,
					last_scan datetime DEFAULT '0000-00-00 00:00:00' NOT NULL,
					scan_status LONGTEXT NOT NULL,
					UNIQUE KEY id (id));";
		dbDelta( $sql );		
	}
	
	/**
	* Execute the script when de-activate the plugin
	*
	* @return null
	**/
    public static function swms_uninstall() {
			delete_option('swms_quttera_api_url'); 
			delete_option('swms_quttera_api'); 
			$table = SWMS_SCAN_TABLE;
			$wpdb->query("DROP TABLE IF EXISTS $table");
     }
}
?>